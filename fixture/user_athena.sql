-- Code generated by "athena_schema -type=User,Post,Comment,HttpLog ./fixture/"; DO NOT EDIT

CREATE EXTERNAL TABLE IF NOT EXISTS `user` (
  `user_id` int,
  `name` string
) PARTITIONED BY (
  `year` int,
  `month` int,
  `day` int
)
ROW FORMAT SERDE 'org.openx.data.jsonserde.JsonSerDe'
LOCATION 's3://bucket/user'
;
CREATE EXTERNAL TABLE IF NOT EXISTS `post` (
  `author_info` struct<user_id: int, name: string>,
  `comments` array<struct<text: string, author_info: struct<user_id: int, name: string>>>,
  `two_comments` array<struct<text: string, author_info: struct<user_id: int, name: string>>>,
  `tags` array<string>,
  `created_at` timestamp,
  `updated_at` timestamp
) PARTITIONED BY (
  `year` int,
  `month` int,
  `day` int
)
ROW FORMAT SERDE 'org.openx.data.jsonserde.JsonSerDe'
LOCATION 's3://bucket/post'
;
CREATE EXTERNAL TABLE IF NOT EXISTS `comment` (
  `text` string,
  `author_info` struct<user_id: int, name: string>
) PARTITIONED BY (
  `year` int,
  `month` int,
  `day` int
)
ROW FORMAT SERDE 'org.openx.data.jsonserde.JsonSerDe'
LOCATION 's3://bucket/comment'
;
CREATE EXTERNAL TABLE IF NOT EXISTS `http_log` (
  `request_parameter` struct<method: string, url: string, http_header: map<string, array<string>>, request_body: string, query_parameter: string>,
  `response` struct<status_code: int, http_header: map<string, array<string>>, response_body: string>
) PARTITIONED BY (
  `year` int,
  `month` int,
  `day` int
)
ROW FORMAT SERDE 'org.openx.data.jsonserde.JsonSerDe'
LOCATION 's3://bucket/http_log'
;
